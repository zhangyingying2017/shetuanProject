<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<link rel="stylesheet" href="css/animate.css">
	<link rel="stylesheet" href="css/style.css">
    <link href="css/about.css" type="text/css" rel="stylesheet">
    <script src="js/jquery-3.1.1.min"></script>
	<script src="js/jquery-ui.min.js"></script>
    <link type="text/css" rel="stylesheet" href="css/jquery-ui.min.css">
</head>
<body>
<div id="wrap">
	<div id="inner">
	<div id="header">
    	<img src="images/E-life.png">
        <div id="header_r">
            <a href=""><img src="images/var_r.jpg"></a>
        </div>
    </div>
	<div class="fh5co-parallax" style="background-image: url(images/hero-1.jpg);" data-stellar-background-ratio="0.5">
		<div class="overlay"></div>
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-center fh5co-table">
					<div class="fh5co-intro fh5co-table-cell">
                      <div id="deng">
                          <div class="deng">
                            <form method="post"> 
                            <tr align="right"><td><font color="#ecedee">账户：</font></td><td><input type="text" required  name="u"></input></td></tr>  
                            <tr align="right"><td><font color="#ecedee">密码：</font></td><td><input type="password" required name="p"></input></td></tr>
                           <tr id="bb"><td><a href="#" id="zhuce">注册账户</a></td><td><a href="">登录</a></td></tr> 
                            </form>   
                           </div>
                       </div>
                       <div class="denglu" id="denglu">
                          <div class="dl">
                              <h2>Login</h2> 
                                <form method="post">   
                                  <input id="in2" type="text" required placeholder="输入用户名/邮箱/手机号码" name="u"></input><span></span>  
                                  <input id="in1" type="password" required placeholder="密码输入密码" name="p"></input><span></span>
                                  <input id="in1" type="password" required placeholder="确认输入密码" name="p"></input><span id="fal"></span>
                                  <button id="but" type="submit">取消</button> 
                                  <button class="but" type="submit">确定</button>   
                                </form>   
                          </div>
                        </div> 
					</div>
				</div>
			</div>
		</div>
	</div>
    <div id="bottom">
    	<ul id="ul">
        	<li><a href=""><img src="images/img.png"></a><p>E-clothing</p></li>
            <li id="li"><a href=""><img src="images/img1.png"></a><p>E-eating</p></li>
            <li id="li"><a href=""><img src="images/img2.png"></a><p>E-living</p></li>
            <li id="li"><a href=""><img src="images/img3.png"></a><p>E-travelling</p></li>
        </ul>
        <div class="banner">
            <ul></ul>
            <ol></ol>
            <i class="left"></i><i class="right"></i>
        </div>
    </div>
	</div>
</div>
<script src="js/jquery-1.11.0.min.js"></script>
<script>
window.onload = function (){
	var oH = document.getElementById('header_r');
	var oDeng = document.getElementById('deng');
	var oZhuce = document.getElementById('zhuce');
	var oDenglu = document.getElementById('denglu');
	var oBut = document.getElementById('but');
	
	oH.onmouseover = function (){
		oDeng.style.display = 'block';
	};
	oDeng.onmouseover = function (){
		this.style.display = 'block';
	};
	oDeng.onmouseout = function hide(){
		this.style.display = 'none';
	};
	
	oZhuce.onclick = function (){
		oDenglu.style.display = 'block';
	};
	oBut.onclick = function(){
		oDenglu.style.display = 'none';
		}
};
</script>
<script>
	$(function(){ //页面加载完毕才执行

		//=========设置参数==========
		//图片统一高度：
		var images_height = '240px';
		//图片路径/链接(数组形式):
		var images_url = [
			'images/1.png',
			'images/2.png',
			'images/3.png',
			'images/4.png',
			'images/5.png',
			'images/6.png'
		];
		var images_count = images_url.length;
		//console.log(images_count);

		//创建节点
		//图片列表节点
		for(var j=0;j<images_count+1;j++){
			$('.banner ul').append('<li></li>')
		}
		//轮播圆点按钮节点
		for(var j=0;j<images_count;j++){
			if(j==0){
				$('.banner ol').append('<li class="current"></li>')
			}else{
				$('.banner ol').append('<li></li>')
			}
		}

		//载入图片
		$('.banner ul li').css('background-image','url('+images_url[0]+')');
		$.each(images_url,function(key,value){
			$('.banner ul li').eq(key).css('background-image','url('+value+')');
		});

		$('.banner').css('height',images_height);

		$('.banner ul').css('width',(images_count+1)*100+'%');

		$('.banner ol').css('width',images_count*20+'px');
		$('.banner ol').css('margin-left',-images_count*20*0.5-10+'px');

		//=========================

		var num = 0;
		//获取窗口宽度
		var window_width = $(window).width();
		$(window).resize(function(){
			window_width = $(window).width();
			$('.banner ul li').css({width:window_width});
			clearInterval(timer);
			nextPlay();
			timer = setInterval(nextPlay,2000);
		});
		//console.log(window_width);
		$('.banner ul li').width(window_width);
		//轮播圆点
		$('.banner ol li').mouseover(function(){//用hover的话会有两个事件(鼠标进入和离开)
			$(this).addClass('current').siblings().removeClass('current');
			//第一张图： 0 * window_width
			//第二张图： 1 * window_width
			//第三张图： 2 * window_width
			//获取当前编号
			var i = $(this).index();
			//console.log(i);
			$('.banner ul').stop().animate({left:-i*window_width},500);
			num = i;
		});
		//自动播放
		var timer = null;
		function prevPlay(){
			num--;
			if(num<0){
				//悄悄把图片跳到最后一张图(复制页,与第一张图相同),然后做出图片播放动画，left参数是定位而不是移动的长度
				$('.banner ul').css({left:-window_width*images_count}).stop().animate({left:-window_width*(images_count-1)},500);
				num=images_count-1;
			}else{
				//console.log(num);
				$('.banner ul').stop().animate({left:-num*window_width},500);
			}
			if(num==images_count-1){
				$('.banner ol li').eq(images_count-1).addClass('current').siblings().removeClass('current');
			}else{
				$('.banner ol li').eq(num).addClass('current').siblings().removeClass('current');

			}
		}
		function nextPlay(){
			num++;
			if(num>images_count){
				//播放到最后一张(复制页)后,悄悄地把图片跳到第一张,因为和第一张相同,所以难以发觉,
				$('.banner ul').css({left:0}).stop().animate({left:-window_width},500);
				//css({left:0})是直接悄悄改变位置，animate({left:-window_width},500)是做出移动动画
				//随后要把指针指向第二张图片,表示已经播放至第二张了。
				num=1;
			}else{
				//在最后面加入一张和第一张相同的图片，如果播放到最后一张，继续往下播，悄悄回到第一张(肉眼看不见)，从第一张播放到第二张
				//console.log(num);
				$('.banner ul').stop().animate({left:-num*window_width},500);
			}
			if(num==images_count){
				$('.banner ol li').eq(0).addClass('current').siblings().removeClass('current');
			}else{
				$('.banner ol li').eq(num).addClass('current').siblings().removeClass('current');

			}
		}
		timer = setInterval(nextPlay,2000);
		//鼠标经过banner，停止定时器,离开则继续播放
		$('.banner').mouseenter(function(){
			clearInterval(timer);
			//左右箭头显示(淡入)
			$('.banner i').fadeIn();
		}).mouseleave(function(){
			timer = setInterval(nextPlay,2000);
			//左右箭头隐藏(淡出)
			$('.banner i').fadeOut();
		});
		//播放下一张
		$('.banner .right').click(function(){
			nextPlay();
		});
		//返回上一张
		$('.banner .left').click(function(){
			prevPlay();
		});
	});
</script>
</body>
</html>

